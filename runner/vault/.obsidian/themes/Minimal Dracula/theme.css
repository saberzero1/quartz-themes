/* ==
@name             Minimal Dracula
@namespace        github.com/druxorey/minimal-dracula-for-obsidian
@version          1.7.2
@description      Are you tired of the same boring colors on Obsidian? Then try this modern color style based on the Dracula theme
@author           Druxorey
@license          GNU General Public License v3.0
== */

:root {
	--drx-border-radius: 10px;
	--drx-border-width: 2px;
	--drx-shadow-radius: 8px;
	background-color: #1E1F29;
}

/* ========================== OBSIDIAN VALUES ======================== */

body {
	--h1-weight: 600;
	--h2-weight: 600;
	--h3-weight: 600;
	--h4-weight: 500;
	--h5-weight: 500;
	--h6-weight: 500;

	--h1-size: 1.50em;
	--h2-size: 1.35em;
	--h3-size: 1.20em;
	--h4-size: 1.15em;
	--h5-size: 1.10em;
	--h6-size: 1.05em;

	--h1-line-height: 1.00em;
	--h2-line-height: 1.00em;
	--h3-line-height: 1.00em;
	--h4-line-height: 1.00em;
	--h5-line-height: 1.00em;
	--h6-line-height: 1.00em;

	--checklist-done-decoration: none;

	--link-unresolved-opacity: 0.5;
	--table-width: 88cqw;

	--drx-color-callout-comment: 98, 114, 164;
	--drx-color-callout-red: 255, 85, 85;
	--drx-color-callout-orange: 255, 184, 108;
	--drx-color-callout-yellow: 241, 250, 140;
	--drx-color-callout-green: 55, 235, 98;
	--drx-color-callout-blue: 84, 179, 255;
	--drx-color-callout-cyan: 114, 208, 228;
	--drx-color-callout-purple: 189, 147, 249;
	--drx-color-callout-pink: 255, 121, 198;

	--callout-default: var(--drx-color-callout-comment);
	--callout-info: var(--drx-color-callout-comment);
	--callout-todo: white;
	--callout-important: var(--drx-color-callout-purple);
	--callout-example: var(--drx-color-callout-pink);
	--callout-summary: var(--drx-color-callout-cyan);
	--callout-tip: var(--drx-color-callout-cyan);
	--callout-bug: var(--drx-color-callout-red);
	--callout-error: var(--drx-color-callout-red);
	--callout-fail: var(--drx-color-callout-red);
	--callout-quote: var(--drx-color-callout-blue);
	--callout-success: var(--drx-color-callout-green);
	--callout-question: var(--drx-color-callout-orange);
	--callout-warning: var(--drx-color-callout-orange);
}

/* ============================ DARK THEME =========================== */

body.theme-dark {
	--drx-color-base: #1E1F29;
	--drx-color-surface: #282A36;
	--drx-color-overlay: #44475A;
	--drx-color-highlight: #525568;

	--drx-color-text: #F8F8F2;
	--drx-color-subtext: #BABCC9;
	--drx-color-deactivate: #707487;

	--drx-color-accent: #BD93F9;
	--drx-color-important: #D6ACFF;

	--drx-color-comment: #6270A4;

	--drx-color-red-1:#FF6E6E;
	--drx-color-red-2: #FF5555;
	--drx-color-red-3: #E63C3C;
	--drx-color-orange-1: #FFD185;
	--drx-color-orange-2: #FFB86C;
	--drx-color-orange-3: #E69F53;
	--drx-color-yellow-1: #FFFFA5;
	--drx-color-yellow-2: #F1FA8C;
	--drx-color-yellow-3: #D8E173;
	--drx-color-green-1: #69FF94;
	--drx-color-green-2: #50FA7B;
	--drx-color-green-3: #37EB62; 
	--drx-color-cyan-1: #A4FFFF;
	--drx-color-cyan-2: #8BE9FD;
	--drx-color-cyan-3: #72D0E4;
	--drx-color-blue-1: #6DCCFF;
	--drx-color-blue-2: #54B3FF;
	--drx-color-blue-3: #3B9AE6;
	--drx-color-purple-1: #D6ACFF;
	--drx-color-purple-2: #BD93F9;
	--drx-color-purple-3: #A47AE0;
	--drx-color-pink-1: #FF92DF;
	--drx-color-pink-2: #FF79C6;
	--drx-color-pink-3: #E660AD;

	color: var(--drx-color-text);
	
	--bold-color: var(--drx-color-accent);
	--text-selection: var(--drx-color-overlay);

	--color-base-00: var(--drx-color-base);
	--color-base-10: var(--drx-color-base);
	--color-base-20: var(--drx-color-base);
	--color-base-25: var(--drx-color-base);
	--color-base-30: var(--drx-color-base);
	--color-base-35: var(--drx-color-overlay);
	--color-base-40: var(--drx-color-overlay);
	--color-base-50: var(--drx-color-deactivate);
	--color-base-60: red;
	--color-base-70: var(--drx-color-subtext);
	--color-base-100: var(--drx-color-text);

	--tag-color: var(--drx-color-accent);

	--link-color: var(--drx-color-accent);
	--link-color-hover: var(--drx-color-important);
	--link-external-color: var(--drx-color-accent);
	--link-external-color-hover: var(--drx-color-important);
	--link-unresolved-color: var(--drx-color-green-2);
	--link-unresolved-decoration-color: var(--drx-color-red-2);

	--hr-color: var(--drx-color-deactivate);
	--nav-item-active: var(--drx-color-highlight);
	--ribbon-background: var(--drx-color-surface);
	--status-bar-background: var(--drx-color-surface);
	--table-header-background: var(--drx-color-overlay);
	--titlebar-background: var(--drx-color-base);

	--code-normal: var(--drx-color-subtext);
	--code-comment: var(--drx-color-comment);
	--code-function: var(--drx-color-green-2);
	--code-important: var(--drx-color-red-2);
	--code-keyword: var(--drx-color-pink-2);
	--code-operator: var(--drx-color-red-2);
	--code-property: var(--drx-color-orange-2);
	--code-string: var(--drx-color-yellow-2);
	--code-tag: var(--drx-color-red-2);
	--code-value: var(--drx-color-purple-2);
}

/* General application background */
body.theme-dark {
	background-color: var(--drx-color-base);
}

/* Vault selection panel */
.theme-dark .workspace-sidedock-vault-profile {
	background-color: var(--drx-color-surface) !important;
}

/* Workspace panels */
.theme-dark .workspace-leaf-content {
	background-color: var(--drx-color-surface);
}

/* Styling for the status bar */
.theme-dark .status-bar {
	background-color: var(--drx-color-surface);
}

/* Navigation headers */
.theme-dark .nav-header {
	background-color: var(--drx-color-base);
}

/* Main text editing panel */
.theme-dark .workspace-split.mod-root .view-content {
	background-color: var(--drx-color-surface);
}

/* Markdown table body */
.theme-dark .markdown-rendered tbody tr {
	background: var(--drx-color-base);
}

/* Fixes the title bar color issue in dark mode */
.theme-dark .titlebar-button {
	background-color: var(--drx-color-base);
}

/* Sets markdown links to cyan color */
.theme-dark .markdown-source-view .cm-string.cm-url {
	color: var(--drx-color-cyan-2);
}

/* Adds custom styling for input fields */
.theme-dark textarea,
.theme-dark input.metadata-input-text,
.theme-dark input[type='date'],
.theme-dark input[type='datetime-local'],
.theme-dark input[type='text'],
.theme-dark input[type='search'],
.theme-dark input[type='email'],
.theme-dark input[type='password'],
.theme-dark input[type='number'] {
	background-color: var(--drx-color-base);
}

/* ============================ LIGHT THEME ========================== */

body.theme-light {
	--drx-color-base: #dce0e8;
	--drx-color-surface: #eff1f5;
	--drx-color-overlay: #ccd0da;
	--drx-color-highlight: #bcc0cc;

	--drx-color-text: #4C4F69;
	--drx-color-subtext: #5C5F77;
	--drx-color-deactivate: #ACB0BE;

	--drx-color-comment: #6270A4;

	--drx-color-accent: #EA76CB;
	--drx-color-important: #EE95D7;

	--drx-color-red-1: #f2cdcd;
	--drx-color-red-2: #d20f39;
	--drx-color-red-3: #a30c2b;
	--drx-color-orange-1: #f5d3ae;
	--drx-color-orange-2: #e64553;
	--drx-color-orange-3: #b33a42;
	--drx-color-yellow-1: #f9e2af;
	--drx-color-yellow-2: #df8e1d;
	--drx-color-yellow-3: #b37417;
	--drx-color-green-1: #d9e0d0;
	--drx-color-green-2: #40a02b;
	--drx-color-green-3: #2e7a20;
	--drx-color-cyan-1: #cdd6f4;
	--drx-color-cyan-2: #04a5e5;
	--drx-color-cyan-3: #0378b3;
	--drx-color-blue-1: #cddbf9;
	--drx-color-blue-2: #1e66f5;
	--drx-color-blue-3: #174db3;
	--drx-color-purple-1: #e8def8;
	--drx-color-purple-2: #8839ef;
	--drx-color-purple-3: #662db3;
	--drx-color-pink-1: #f5c2e7;
	--drx-color-pink-2: #ea76cb;
	--drx-color-pink-3: #b35a9d;

	color: var(--drx-color-text);
	
	--bold-color: var(--drx-color-accent);
	--text-selection: var(--drx-color-overlay);

	--color-base-00: var(--drx-color-base);
	--color-base-10: var(--drx-color-base);
	--color-base-20: var(--drx-color-base);
	--color-base-25: var(--drx-color-base);
	--color-base-30: var(--drx-color-base);
	--color-base-35: var(--drx-color-overlay);
	--color-base-40: var(--drx-color-overlay);
	--color-base-50: var(--drx-color-deactivate);
	--color-base-60: red;
	--color-base-70: var(--drx-color-subtext);
	--color-base-100: var(--drx-color-text);

	--tag-color: var(--drx-color-accent);

	--link-color: var(--drx-color-accent);
	--link-color-hover: var(--drx-color-important);
	--link-external-color: var(--drx-color-accent);
	--link-external-color-hover: var(--drx-color-important);
	--link-unresolved-color: var(--drx-color-green-2);
	--link-unresolved-decoration-color: var(--drx-color-red-2);

	--hr-color: var(--drx-color-deactivate);
	--nav-item-active: var(--drx-color-highlight);
	--ribbon-background: var(--drx-color-surface);
	--status-bar-background: var(--drx-color-surface);
	--table-header-background: var(--drx-color-overlay);
	--titlebar-background: var(--drx-color-base);

	--code-normal: var(--drx-color-subtext);
	--code-comment: var(--drx-color-comment);
	--code-function: var(--drx-color-green-2);
	--code-important: var(--drx-color-red-2);
	--code-keyword: var(--drx-color-pink-2);
	--code-operator: var(--drx-color-red-2);
	--code-property: var(--drx-color-orange-2);
	--code-string: var(--drx-color-yellow-2);
	--code-tag: var(--drx-color-red-2);
	--code-value: var(--drx-color-purple-2);
}

/* General application background */
body.theme-light {
	background-color: var(--drx-color-base);
}

/* Vault selection panel */
.theme-light .workspace-sidedock-vault-profile {
	background-color: var(--drx-color-surface) !important;
}

/* Workspace panels */
.theme-light .workspace-leaf-content {
	background-color: var(--drx-color-surface);
}

/* Styling for the status bar */
.theme-light .status-bar {
	background-color: var(--drx-color-surface);
}

/* Navigation headers */
.theme-light .nav-header {
	background-color: var(--drx-color-base);
}

/* Main text editing panel */
.theme-light .workspace-split.mod-root .view-content {
	background-color: var(--drx-color-surface);
}

/* Markdown table body */
.theme-light .markdown-rendered thead tr {
	background-color: var(--drx-color-surface);
}

/* Fixes the title bar color issue in light mode */
.theme-light .workspace-tab-header-container, .titlebar-button {
	background-color: var(--drx-color-base);
}

/* Sets markdown links to blue color */
.theme-light .markdown-source-view .cm-string.cm-url {
	color: var(--drx-color-blue-2);
	background-color: var(--drx-color-highlight);
}

/* Adds custom styling for input fields */
.theme-light textarea,
.theme-light input.metadata-input-text,
.theme-light input[type='date'],
.theme-light input[type='datetime-local'],
.theme-light input[type='text'],
.theme-light input[type='search'],
.theme-light input[type='email'],
.theme-light input[type='password'],
.theme-light input[type='number'] {
	background-color: var(--drx-color-overlay);
}

/* ========================== GENERAL STYLING ======================== */

a {
	color: var(--drx-color-accent) !important;
}

a:hover {
	color: var(--drx-color-important) !important;
}

/* Explicit H1 font size */
h1 {
	font-size: 2em;
}

/* Rounds the corners of all panels */
.workspace-tab-container, .prompt {
	margin: 10px;
	border-radius: var(--drx-border-radius);
}

/* Styles header 1 in markdown with a underline */
.HyperMD-header-1 {
	border-bottom: 3px solid;
	border-color: var(--drx-color-accent);
	padding-bottom: 0.75rem !important;
}

/* Styles inline code blocks in markdown (text between ``) */
.cm-s-obsidian span.cm-inline-code  {
	color: var(--drx-color-subtext);
}

/* Styles the vault selection area at the bottom-right */
.workspace-sidedock-vault-profile {
	width: 94% !important;
	margin: 10px;
	border-radius: var(--drx-border-radius);
	border: none;
}

/* Styles the status bar at the bottom-right */
.status-bar {
	border-radius: var(--drx-border-radius) 0px 0px 0px;
	border: none;
}

/* Prevents layout issues when the writing panel is too small */
.workspace-split.mod-root .view-content {
	overflow-y: scroll;
}

/* Adds rounded corners to navigation headers */
.nav-header {
	margin: 10px;
	border-radius: var(--drx-border-radius);
}

/* Styles the settings modal */
.modal-container.mod-dim .modal {
	border-radius: var(--drx-border-radius);
	box-shadow: none;
}

/* Background color for the settings modal */
.modal-bg {
	background-color: var(--drx-color-highlight);
}

/* Justifies text in reading mode */
.markdown-preview-view p {
	text-align: justify;
	text-justify: inter-word;
}

/* Adds a border to the entire application */
body:not(.is-mobile) .workspace {
	position: relative;
	overflow: visible;
	padding: 8px;
}

/* Enables container queries for markdown views */
.markdown-source-view,
.markdown-reading-view {
	container-type: inline-size;
}

/* Table width adjustments */
body:not(.table-width-obsidian-default) .markdown-source-view.mod-cm6 .cm-table-widget .table-wrapper,
body:not(.table-width-obsidian-default) :is(.markdown-rendered, .markdown-source-view.mod-cm6.is-live-preview) table {
	width: 100% !important;
}

/* Custom wide table styling */
.table-width-customized .markdown-source-view.mod-cm6.is-live-preview .cm-content>.cm-table-widget,
.table-width-customized .markdown-rendered .markdown-preview-sizer>div:has(>table) {
	overflow: auto;
	width: 200rem !important;
	margin-left: calc(200rem - 100%) / -2) !important;
}

/* ============================= CALLOUTS ============================ */

.theme-dark .callout[data-callout="todo"] {
	background: var(--drx-color-red-2) !important;

	a {
		color: var(--drx-color-text) !important;
	}
	--bold-color: var(--drx-color-text);
}

.theme-light .cm-callout {
	border-radius: var(--drx-border-radius);
	box-shadow: 0 0.25rem 0.5rem var(--drx-color-base);
}

.theme-light .callout-title {
	gap: 10px;
	padding: 1rem;
}

.theme-light .callout {
	padding: 0px
}

.theme-light .callout-content {
	background: var(--drx-color-base) !important;
	padding: 1rem;
}

.theme-light .cm-callout:hover {
	border-radius: var(--drx-border-radius) !important;
	box-shadow: 0 0.25rem 0.5rem var(--drx-color-base) !important;
}

.theme-light .callout {
	background: #6272A43F !important;
}

.theme-light .callout[data-callout="todo"] {
	background: var(--drx-color-red-2) !important;
	color: white !important;

	.callout-content {
		color: var(--drx-color-text) !important;
	}

	a {
		color: white !important;
	}
}

.theme-light .callout[data-callout="important"] {
	background: #BD93F93F !important;
}

.theme-light .callout[data-callout="example"] {
	background: #FF79C63F !important;
}

.theme-light .callout[data-callout="summary"] {
	background: #8BE9FD3F !important;
}

.theme-light .callout[data-callout="tip"] {
	background: #8BE9FD3F !important;
}

.theme-light .callout[data-callout="bug"] {
	background: #FF55553F !important;
}

.theme-light .callout[data-callout="error"] {
	background: #FF55553F !important;
}

.theme-light .callout[data-callout="fail"] {
	background: #FF55553F !important;
}

.theme-light .callout[data-callout="quote"] {
	background: #54B3FF3F !important;
}

.theme-light .callout[data-callout="success"] {
	background: #50FA7B3F !important;
}

.theme-light .callout[data-callout="question"] {
	background: #FFB86C3F !important;
}

.theme-light .callout[data-callout="warning"] {
	background: #FFB86C3F !important;
}

.callout[data-callout="example"] {
	--bold-color: var(--drx-color-pink-2);
}

.callout[data-callout="summary"] {
	--bold-color: var(--drx-color-cyan-2);
}

.callout[data-callout="tip"] {
	--bold-color: var(--drx-color-cyan-2);
}

.callout[data-callout="bug"] {
	--bold-color: var(--drx-color-red-2);
}

.callout[data-callout="error"] {
	--bold-color: var(--drx-color-red-2);
}

.callout[data-callout="fail"] {
	--bold-color: var(--drx-color-red-2);
}

.callout[data-callout="quote"] {
	--bold-color: var(--drx-color-green-2);
}

.callout[data-callout="success"] {
	--bold-color: var(--drx-color-green-2);
}

.callout[data-callout="question"] {
	--bold-color: var(--drx-color-orange-2);
}

.callout[data-callout="warning"] {
	--bold-color: var(--drx-color-orange-2);
}

/* ============================ PRINTING ============================= */

@media print {

	.internal-embed{
		margin-left:-30px;
	}

	body.theme-light {
		--color-base-10: #E9E9ED;
		--color-base-20: #F4F4F6;
	}

	h2, h3, h4, h5, h6 {
		page-break-after: avoid;
	}

	pre, blockquote {
		page-break-inside: avoid;
	}

	.callout {
		page-break-inside: avoid;
	}

	.theme-light .cm-callout {
		border-radius: 10px !important;
		border: 2px solid !important;
		border-color: #C7C8D1 !important;
		box-shadow: 0 0 8px #DDDDE3 !important;
	}

	.theme-light .callout-content {
		background: #F4F4F6 !important;
	}
}

/* ======================== IMAGES AND MEDIA ========================= */

/* Left aligned images based on alt text */
img[alt*="left"] {
	float:left;
	clear:left;
	margin-right: 2rem;
	margin-bottom: 4px;
	margin-top: 4px;
}

/* Right aligned images based on alt text */
img[alt*="right"] {
	float:right;
	clear:right;
	margin-left: 1rem;
	margin-bottom: 4px;
	margin-top: 4px;
}

/* Center aligned images based on alt text */
img[alt*="center"],img[alt*="centre"] {
	display:block;
	margin-right: auto;
	margin-left: auto;
	margin-bottom: 4px;
	margin-top: 4px;
	max-height: 400px;
}
