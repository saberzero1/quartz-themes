// src/extraction-config.js
const sets = {
  typography: [
    "color",
    "font-family",
    //"font-size",
    "font-weight",
    "line-height",
  ],
  text: [
    "background-color",
    "color",
    "cursor",
    "filter",
    "font-family",
    //"font-size",
    "font-weight",
    //"line-height",
    //"margin-block-end",
    //"margin-block-start",
    "outline",
    "text-decoration",
    "text-decoration-color",
    "text-decoration-line",
    "text-decoration-style",
    "text-decoration-thickness",
    "transition",
    "user-select",
  ],
  list: [
    "color",
    //"padding-top",
    //"padding-bottom",
    //"margin-inline-start",
    "text-align",
  ],
  pill: [
    "align-items",
    "background-color",
    "border-bottom-color",
    "border-left-color",
    "border-right-color",
    "border-top-color",
    "border-bottom-left-radius",
    "border-bottom-right-radius",
    "border-top-left-radius",
    "border-top-right-radius",
    "border-bottom-style",
    "border-left-style",
    "border-right-style",
    "border-top-style",
    "display",
    "font-family",
    //"font-size",
    "font-weight",
    //"line-height",
    "margin-inline-start",
  ],
  blockquote: [
    "background-color",
    "border-inline-start",
    "font-family",
    "font-style",
    "padding-bottom",
    "padding-top",
    "padding-inline-start",
    "margin-inline-start",
    "margin-inline-end",
  ],
  headings: ["color", "font-family", "text-shadow"],
  callouts: {
    container: [
      "--callout-color",
      //"--callout-icon",
      "background-color",
      "border-style",
      "border-color",
      "border-width",
      "border-radius",
      "mix-blend-mode",
      "padding",
    ],
    content: ["background-color", "padding"],
    icon: ["color"],
    title: ["color", /*"font-size", */ "gap" /*, "line-height"*/, "padding"],
    titleInner: ["color", "font-weight"],
  },
  background: ["background-color"],
  mermaid: ["stroke", "fill" /*"filter", "font-family", "font-size"*/],
  math: ["display", "text-align", "white-space", "font"],
  // ... other property groups
};

const body =
  "body > div.app-container > div.horizontal-main-container > div > div.workspace-split.mod-vertical.mod-root > div > div.workspace-tab-container > div > div > div.view-content";

export const extractionTargets = {
  general: {
    file: "general.md",
    selectors: [
      {
        obsidianSelector: `.quartz-icon-selector`,
        publishSelector: null,
        quartzSelector: "div#quartz-body",
        pseudoElement: "",
        properties: ["--quartz-icon-color"],
      },
      {
        obsidianSelector: null,
        publishSelector: null,
        quartzSelector: "div#quartz-root",
        pseudoElement: "",
        properties: ["background-color", "color", "font-family", "font-size"],
      },
      // links
      {
        obsidianSelector: `a.external-link`,
        publishSelector: null,
        quartzSelector: "a.external",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `a.internal-link`,
        publishSelector: null,
        quartzSelector: "a.internal",
        pseudoElement: "",
        properties: sets.text,
      },
      // text
      {
        obsidianSelector: `p`,
        publishSelector: null,
        quartzSelector: "p",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `strong`,
        publishSelector: null,
        quartzSelector: ".page article p > strong, strong",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `b`,
        publishSelector: null,
        quartzSelector: ".page article p > b, b",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `em`,
        publishSelector: null,
        quartzSelector: ".page article p > em, em",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `i`,
        publishSelector: null,
        quartzSelector: ".page article p > i, i",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `u`,
        publishSelector: null,
        quartzSelector: ".page article p > u, u",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `s`,
        publishSelector: null,
        quartzSelector: ".page article p > s, s",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `strong > em`,
        publishSelector: null,
        quartzSelector: ".page article p > strong > em, strong > em",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `mark`,
        publishSelector: null,
        quartzSelector: ".text-highlight",
        pseudoElement: "",
        properties: sets.text,
      },
      // Selected state for search
      {
        obsidianSelector: `.suggestion-item.is-selected`,
        publishSelector: null,
        quartzSelector:
          ".search>.search-container>.search-space>.search-layout>.results-container .result-card:hover, .search>.search-container>.search-space>.search-layout>.results-container .result-card:focus, .search>.search-container>.search-space>.search-layout>.results-container .result-card.focus",
        pseudoElement: "",
        properties: ["background-color", "border-radius", "color"],
      },
      {
        obsidianSelector: `div.suggestion-item`,
        publishSelector: null,
        quartzSelector:
          ".search>.search-container>.search-space>.search-layout>.results-container .result-card:has(~ .result-card:hover), .search>.search-container>.search-space>.search-layout>.results-container .result-card:has(~ .result-card:focus), .search>.search-container>.search-space>.search-layout>.results-container .result-card:has(~ .result-card.focus)",
        pseudoElement: "",
        properties: ["background-color", "border-radius", "color"],
      },
      {
        obsidianSelector: `del`,
        publishSelector: null,
        quartzSelector: "del",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `hr`,
        publishSelector: null,
        quartzSelector: "hr",
        pseudoElement: "",
        properties: [
          "border",
          "border-color",
          "border-style",
          "border-top",
          "box-shadow",
          "margin",
        ],
      },
      // tag pills
      {
        obsidianSelector: `div.multi-select-pill`,
        publishSelector: null,
        quartzSelector:
          "a.internal.tag-link, .search > .search-container > .search-space > .search-layout > .results-container .result-card > ul > li > .match-tag",
        pseudoElement: "",
        properties: sets.pill,
      },
      {
        obsidianSelector: `div.multi-select-pill > div.multi-select-pill-content`,
        publishSelector: null,
        quartzSelector: "a.internal.tag-link::before",
        pseudoElement: "",
        properties: ["color"],
      },
      // list items
      {
        obsidianSelector: `ul.has-list-bullet > li`,
        publishSelector: null,
        quartzSelector: "ul > li",
        pseudoElement: "",
        properties: sets.list,
      },
      {
        obsidianSelector: `ul.has-list-bullet > li > .list-bullet`,
        publishSelector: null,
        quartzSelector: "ul > li::marker",
        pseudoElement: "::after",
        properties: [
          "background-color",
          "border",
          "border-color",
          "border-radius",
          "color",
          "content",
          "pointer-events",
          "transform",
          "transition",
        ],
      },
      {
        obsidianSelector: `ol > li`,
        publishSelector: null,
        quartzSelector: "ol > li",
        pseudoElement: "",
        properties: sets.list,
      },
      {
        obsidianSelector: `ol > li`,
        publishSelector: null,
        quartzSelector: "ol > li::marker",
        pseudoElement: "::marker",
        properties: ["color"],
      },
      // code blocks
      {
        obsidianSelector: `p > code`,
        publishSelector: null,
        quartzSelector: "code",
        pseudoElement: "",
        properties: [
          "background-color",
          "border",
          "border-color",
          "border-radius",
          "color",
          "font-family",
          //"font-size",
          "padding",
        ],
      },
      {
        obsidianSelector: `pre > code`,
        publishSelector: null,
        quartzSelector: "pre > code",
        pseudoElement: "",
        properties: [
          "background-color",
          "border",
          "border-color",
          "border-radius",
          "overflow-x",
          "padding",
          "white-space",
        ],
      },
      {
        obsidianSelector: `pre:has(> code)`,
        publishSelector: null,
        quartzSelector: "pre:has(> code)",
        pseudoElement: "",
        properties: [
          "background-color",
          "border",
          "border-color",
          "border-radius",
          "overflow-x",
          "padding",
          "white-space",
        ],
      },
      // checkboxes
      {
        obsidianSelector: `ul.contains-task-list > li.task-list-item > .task-list-item-checkbox`,
        publishSelector: null,
        quartzSelector: "input[type=checkbox]",
        pseudoElement: "",
        properties: [
          "appearance",
          "border",
          "border-color",
          "border-radius",
          "padding",
          "margin",
          "width",
          "margin-inline-start",
          "margin-inline-end",
          "transition",
          "position",
          "top",
        ],
      },
      {
        obsidianSelector: `ul.contains-task-list > li.task-list-item`,
        publishSelector: null,
        quartzSelector: "ul > li.task-list-item",
        pseudoElement: "",
        properties: ["list-style", "text-align", "display"],
      },
      {
        obsidianSelector: `ul.contains-task-list > li.task-list-item > input[type=checkbox]:checked`,
        publishSelector: null,
        quartzSelector: "input[type=checkbox]:checked:after",
        pseudoElement: "::after",
        properties: [
          "content",
          "top",
          "inset-inline-start",
          "position",
          "width",
          "display",
          "background-color",
          "-webkit-mask-position",
          "-webkit-mask-size",
          "-webkit-mask-repeat",
          "-webkit-mask-image",
        ],
      },
      {
        obsidianSelector: `ul > li.task-list-item[data-task="x"]`,
        publishSelector: null,
        quartzSelector: ".page article li:has(>input[type=checkbox]:checked)",
        pseudoElement: "",
        properties: ["color", "text-decoration", "text-decoration-color"],
      },
      // blockquote
      {
        obsidianSelector: `blockquote`,
        publishSelector: null,
        quartzSelector: "blockquote",
        pseudoElement: "",
        properties: sets.blockquote,
      },
      // footnotes
      {
        obsidianSelector: `.footnote-backref`,
        publishSelector: null,
        quartzSelector: ".data-footnote-backref",
        pseudoElement: "",
        properties: ["color", "text-decoration"],
      },
      // search
      {
        obsidianSelector: `.block-language-dataviewjs input[type="search"]`,
        publishSelector: null,
        quartzSelector: ".search > .search-button",
        pseudoElement: "",
        properties: [
          "background-color",
          "border",
          "border-color",
          "border-radius",
          "color",
          "font-family",
          //"font-size",
          //"padding",
        ],
      },
      {
        obsidianSelector: `.prompt`,
        publishSelector: null,
        quartzSelector: ".search > .search-container > .search-space",
        pseudoElement: "",
        properties: [
          "background-color",
          "border",
          "border-radius",
          "box-shadow",
        ],
      },
      {
        obsidianSelector: `.prompt > .prompt-input-container > input`,
        publishSelector: null,
        quartzSelector: ".search > .search-container > .search-space > input",
        pseudoElement: "",
        properties: [
          "background-color",
          "border",
          "border-bottom",
          "border-radius",
          "box-shadow",
        ],
      },
      {
        obsidianSelector: `.prompt > .prompt-results`,
        publishSelector: null,
        quartzSelector: ".search > .search-container > .search-space > *",
        pseudoElement: "",
        properties: sets.text,
      },
      {
        obsidianSelector: `div.prompt`,
        publishSelector: null,
        quartzSelector:
          ".search > .search-container > .search-space > .search-layout, .search > .search-container > .search-space > .search-layout.display-results",
        pseudoElement: "",
        properties: ["border-color"],
      },
      {
        obsidianSelector: `div.prompt .prompt-results .suggestion-item`,
        publishSelector: null,
        quartzSelector:
          ".search > .search-container > .search-space > .search-layout > .results-container",
        pseudoElement: "",
        properties: ["color"],
      },
      {
        obsidianSelector: `div.prompt div.prompt-results .suggestion-item`,
        publishSelector: null,
        quartzSelector:
          ".search > .search-container > .search-space > .search-layout > .results-container .result-card",
        pseudoElement: "",
        properties: ["border-color"],
      },
      {
        obsidianSelector: `div.prompt .prompt-results .suggestion-item.is-selected`,
        publishSelector: null,
        quartzSelector:
          ".search > .search-container > .search-space > .search-layout > .results-container > .result-card:hover, .search > .search-container > .search-space > .search-layout > .results-container > .result-card:focus, .search > .search-container > .search-space > .search-layout > .results-container > .result-card.focus",
        pseudoElement: "",
        properties: ["color", "font-weight", "background-color"],
      },
      {
        obsidianSelector: `div.prompt div.prompt-results .suggestion-item.is-selected`,
        publishSelector: null,
        quartzSelector:
          ".search > .search-container > .search-space > .search-layout > .results-container > .result-card:hover .card-title, .search > .search-container > .search-space > .search-layout > .results-container > .result-card:hover .card-description, .search > .search-container > .search-space > .search-layout > .results-container > .result-card:focus .card-title, .search > .search-container > .search-space > .search-layout > .results-container > .result-card:focus .card-description, .search > .search-container > .search-space > .search-layout > .results-container > .result-card.focus .card-title, .search > .search-container > .search-space > .search-layout > .results-container > .result-card.focus .card-description",
        pseudoElement: "",
        properties: ["color"],
      },
    ],
  },
  headings: {
    file: "headings.md",
    selectors: [
      {
        obsidianSelector: `h1`,
        publishSelector: null,
        quartzSelector: "h1",
        pseudoElement: "",
        properties: sets.headings,
      },
      {
        obsidianSelector: `h2`,
        publishSelector: null,
        quartzSelector: "h2",
        pseudoElement: "",
        properties: sets.headings,
      },
      {
        obsidianSelector: `h3`,
        publishSelector: null,
        quartzSelector: "h3",
        pseudoElement: "",
        properties: sets.headings,
      },
      {
        obsidianSelector: `h4`,
        publishSelector: null,
        quartzSelector: "h4",
        pseudoElement: "",
        properties: sets.headings,
      },
      {
        obsidianSelector: `h5`,
        publishSelector: null,
        quartzSelector: "h5",
        pseudoElement: "",
        properties: sets.headings,
      },
      {
        obsidianSelector: `h6`,
        publishSelector: null,
        quartzSelector: "h6",
        pseudoElement: "",
        properties: sets.headings,
      },
      // outline
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item > .tree-item-self`,
        publishSelector: null,
        quartzSelector: "li.depth-0",
        pseudoElement: "",
        properties: [/*"font-size", "line-height", */ "font-weight"],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item > .tree-item-children`,
        publishSelector: null,
        quartzSelector: "li.depth-0 + li.depth-1",
        pseudoElement: "",
        properties: [
          "margin-inline-start",
          "padding-inline-start",
          "border-inline-start",
        ],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item > .tree-item-self`,
        publishSelector: null,
        quartzSelector: "li.depth-1",
        pseudoElement: "",
        properties: [/*"font-size", "line-height", */ "font-weight"],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item > .tree-item-children`,
        publishSelector: null,
        quartzSelector: "li.depth-1 + li.depth-2",
        pseudoElement: "",
        properties: [
          "margin-inline-start",
          "padding-inline-start",
          "border-inline-start",
        ],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item > .tree-item-self`,
        publishSelector: null,
        quartzSelector: "li.depth-2",
        pseudoElement: "",
        properties: [/*"font-size", "line-height", */ "font-weight"],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item > .tree-item-children`,
        publishSelector: null,
        quartzSelector: "li.depth-2 + li.depth-3",
        pseudoElement: "",
        properties: [
          "margin-inline-start",
          "padding-inline-start",
          "border-inline-start",
        ],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item .tree-item > .tree-item-self`,
        publishSelector: null,
        quartzSelector: "li.depth-3",
        pseudoElement: "",
        properties: [/*"font-size", "line-height", */ "font-weight"],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item .tree-item > .tree-item-children`,
        publishSelector: null,
        quartzSelector: "li.depth-3 + li.depth-4",
        pseudoElement: "",
        properties: [
          "margin-inline-start",
          "padding-inline-start",
          "border-inline-start",
        ],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item .tree-item .tree-item > .tree-item-self`,
        publishSelector: null,
        quartzSelector: "li.depth-4",
        pseudoElement: "",
        properties: [/*"font-size", "line-height", */ "font-weight"],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item .tree-item .tree-item > .tree-item-children`,
        publishSelector: null,
        quartzSelector: "li.depth-4 + li.depth-5",
        pseudoElement: "",
        properties: [
          "margin-inline-start",
          "padding-inline-start",
          "border-inline-start",
        ],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item .tree-item .tree-item .tree-item > .tree-item-self`,
        publishSelector: null,
        quartzSelector: "li.depth-5",
        pseudoElement: "",
        properties: [/*"font-size", "line-height", */ "font-weight"],
      },
      {
        obsidianSelector: `.block-language-dataviewjs .view-content .tree-item .tree-item .tree-item .tree-item .tree-item .tree-item > .tree-item-children`,
        publishSelector: null,
        quartzSelector: "li.depth-5 + li.depth-6",
        pseudoElement: "",
        properties: [
          "margin-inline-start",
          "padding-inline-start",
          "border-inline-start",
        ],
      },
      // table
    ],
  },
  callouts: {
    file: "callouts.md",
    selectors: [
      // scrollbars
      {
        obsidianSelector: `.markdown-preview-sizer`,
        publishSelector: null,
        quartzSelector: "::-webkit-scrollbar",
        pseudoElement: "::-webkit-scrollbar",
        properties: ["background-color"],
      },
      {
        obsidianSelector: `.markdown-preview-sizer`,
        publishSelector: null,
        quartzSelector: "::-webkit-scrollbar-thumb",
        pseudoElement: "::-webkit-scrollbar-thumb",
        properties: [
          "background-color",
          "border-radius",
          "border-width",
          "border",
          "border-color",
          "box-shadow",
        ],
      },
      // note
      {
        obsidianSelector: `.callout[data-callout="note"]`,
        publishSelector: null,
        // quartzSelector: ".callout[data-callout]",
        quartzSelector: ".callout",
        pseudoElement: "",
        properties: [
          "--callout-color",
          //"--callout-icon",
          //"background-color",
          "border-style",
          //"border-color",
          "border-width",
          "border-radius",
          "mix-blend-mode",
          "padding",
        ],
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-title`,
        publishSelector: null,
        // quartzSelector: ".callout[data-callout] .callout-title",
        quartzSelector: ".callout .callout-title",
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        // quartzSelector: ".callout[data-callout] .callout-title .callout-icon",
        quartzSelector: ".callout .callout-title .callout-icon",
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-title`,
        publishSelector: null,
        // quartzSelector:
        // ".callout[data-callout] .callout-title > .callout-title-inner > p",
        quartzSelector: ".callout .callout-title > .callout-title-inner > p",
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-content`,
        publishSelector: null,
        // quartzSelector: ".callout[data-callout] > .callout-content",
        quartzSelector: ".callout > .callout-content",
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // note
      {
        obsidianSelector: `.callout[data-callout="note"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="note"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="note"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="note"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="note"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="note"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="note"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // abstract
      {
        obsidianSelector: `.callout[data-callout="abstract"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="abstract"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="abstract"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="abstract"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="abstract"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="abstract"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="abstract"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="abstract"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="abstract"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="abstract"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // info
      {
        obsidianSelector: `.callout[data-callout="info"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="info"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="info"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="info"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="info"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="info"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="info"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="info"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="info"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="info"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // todo
      {
        obsidianSelector: `.callout[data-callout="todo"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="todo"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="todo"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="todo"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="todo"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="todo"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="todo"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="todo"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="todo"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="todo"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // tip
      {
        obsidianSelector: `.callout[data-callout="tip"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="tip"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="tip"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="tip"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="tip"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="tip"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="tip"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="tip"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="tip"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="tip"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // success
      {
        obsidianSelector: `.callout[data-callout="success"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="success"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="success"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="success"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="success"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="success"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="success"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="success"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="success"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="success"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // question
      {
        obsidianSelector: `.callout[data-callout="question"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="question"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="question"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="question"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="question"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="question"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="question"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="question"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="question"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="question"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // warning
      {
        obsidianSelector: `.callout[data-callout="warning"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="warning"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="warning"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="warning"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="warning"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="warning"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="warning"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="warning"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="warning"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="warning"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // danger
      {
        obsidianSelector: `.callout[data-callout="danger"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="danger"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="danger"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="danger"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="danger"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="danger"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="danger"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="danger"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="danger"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="danger"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // failure
      {
        obsidianSelector: `.callout[data-callout="failure"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="failure"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="failure"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="failure"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="failure"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="failure"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="failure"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="failure"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="failure"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="failure"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // bug
      {
        obsidianSelector: `.callout[data-callout="bug"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="bug"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="bug"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="bug"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="bug"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="bug"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="bug"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="bug"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="bug"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="bug"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // example
      {
        obsidianSelector: `.callout[data-callout="example"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="example"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="example"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="example"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="example"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="example"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="example"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="example"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="example"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="example"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
      // quote
      {
        obsidianSelector: `.callout[data-callout="quote"]`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="quote"]`,
        pseudoElement: "",
        properties: sets.callouts.container,
      },
      {
        obsidianSelector: `.callout[data-callout="quote"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="quote"] .callout-title`,
        pseudoElement: "",
        properties: sets.callouts.title,
      },
      {
        obsidianSelector: `.callout[data-callout="quote"] > .callout-title > .callout-icon > svg.svg-icon`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="quote"] .callout-title .callout-icon`,
        pseudoElement: "",
        properties: sets.callouts.icon,
      },
      {
        obsidianSelector: `.callout[data-callout="quote"] > .callout-title`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="quote"] .callout-title > .callout-title-inner > p`,
        pseudoElement: "",
        properties: sets.callouts.titleInner,
      },
      {
        obsidianSelector: `.callout[data-callout="quote"] > .callout-content`,
        publishSelector: null,
        quartzSelector: `.callout[data-callout="quote"] > .callout-content`,
        pseudoElement: "",
        properties: sets.callouts.content,
      },
    ],
  },
  integrations: {
    file: "integrations.md",
    selectors: [
      // mermaid
      {
        obsidianSelector: `.mermaid > svg`,
        publishSelector: null,
        quartzSelector: "code.mermaid > svg",
        pseudoElement: "",
        properties: sets.mermaid,
      },
      // mathjax
      {
        obsidianSelector: `.math-block > mjx-container.MathJax`,
        publishSelector: null,
        quartzSelector: ".katex-display > .katex",
        pseudoElement: "",
        properties: sets.math,
      },
      {
        obsidianSelector: `.math-block > mjx-container.MathJax`,
        publishSelector: null,
        quartzSelector: ".katex-display > .katex > .katex-html",
        pseudoElement: "",
        properties: ["font-family"],
      },
      {
        obsidianSelector: `.math-inline > mjx-container.MathJax > mjx-math`,
        publishSelector: null,
        quartzSelector: ".katex > .katex-html",
        pseudoElement: "",
        properties: ["font-family"],
      },
      // graph
      {
        obsidianSelector: `span.quartz-graph-target`,
        publishSelector: null,
        quartzSelector: "div.graph",
        pseudoElement: "",
        properties: [
          "--quartz-graph-text",
          "--quartz-graph-line",
          "--quartz-graph-node",
          "--quartz-graph-node-unresolved",
          "--quartz-graph-node-focused",
          "--quartz-graph-node-tag",
          "--quartz-graph-node-attachment",
        ],
      },
      // explorer
      {
        obsidianSelector: `.block-language-dataviewjs .nav-files-container .nav-file-title[data-path="callouts.md"]`,
        publishSelector: null,
        quartzSelector: ".explorer .explorer-content ul.explorer-ul li a",
        pseudoElement: "",
        properties: [
          "color",
          "cursor",
          "font-family",
          //"font-size",
          "font-weight",
          //"line-height",
          "text-decoration",
        ],
      },
      {
        // active
        obsidianSelector: `.block-language-dataviewjs .nav-files-container .nav-file-title[data-path="integrations.md"]`,
        publishSelector: null,
        quartzSelector:
          ".explorer .explorer-content ul.explorer-ul li:has(> .active)",
        pseudoElement: "",
        properties: ["background-color", "color", "cursor"],
      },
      {
        // closed
        obsidianSelector: `.block-language-dataviewjs .nav-files-container .nav-folder-title[data-path="folder/collapsed"]`,
        publishSelector: null,
        quartzSelector:
          ".explorer .explorer-content li:has(> .folder-outer:not(.open)) > .folder-container",
        pseudoElement: "",
        properties: [
          "color",
          "cursor",
          "font-family",
          //"font-size",
          "font-weight",
          //"line-height",
          "text-decoration",
        ],
      },
      {
        // open
        obsidianSelector: `.block-language-dataviewjs .nav-files-container .nav-folder-title[data-path="folder"]`,
        publishSelector: null,
        quartzSelector:
          ".explorer .explorer-content li:has(> .folder-outer.open) > .folder-container",
        pseudoElement: "",
        properties: [
          "color",
          "cursor",
          "font-family",
          //"font-size",
          "font-weight",
          //"line-height",
          "text-decoration",
        ],
      },
    ],
  },
  // ... more targets
};
