.serenity-mode:not(.serenity-src):not(.serenity-lp) .markdown-source-view,
.serenity-lp:has([data-mode="source"] .is-live-preview) .markdown-source-view,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview)) {
  --font-text-size: var(--serenity-mode-font-size) !important;
}

.serenity-mode:not(.serenity-src):not(.serenity-lp):has([data-mode="source"])
  .workspace-tab-header-container,
.serenity-mode:not(.serenity-src):not(.serenity-lp):has([data-mode="source"]) .workspace-ribbon,
.serenity-mode:not(.serenity-src):not(.serenity-lp):has([data-mode="source"]) .view-header,
.serenity-mode:not(.serenity-src):not(.serenity-lp):has([data-mode="source"]) .embedded-backlinks,
.serenity-mode:not(.serenity-src):not(.serenity-lp):has([data-mode="source"]) .inline-title,
.serenity-mode:not(.serenity-src):not(.serenity-lp):has([data-mode="source"]) .mk-header.cm-line,
.serenity-lp:has([data-mode="source"] .is-live-preview) .workspace-tab-header-container,
.serenity-lp:has([data-mode="source"] .is-live-preview) .workspace-ribbon,
.serenity-lp:has([data-mode="source"] .is-live-preview) .view-header,
.serenity-lp:has([data-mode="source"] .is-live-preview) .embedded-backlinks,
.serenity-lp:has([data-mode="source"] .is-live-preview) .inline-title,
.serenity-lp:has([data-mode="source"] .is-live-preview) .mk-header.cm-line,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview))
  .workspace-tab-header-container,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview))
  .workspace-ribbon,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview)) .view-header,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview))
  .embedded-backlinks,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview)) .inline-title,
.serenity-src:has([data-mode="source"] .markdown-source-view:not(.is-live-preview))
  .mk-header.cm-line {
  display: none !important;
}

body:not(.serenity-mode) .setting-item[data-id*="serenity-mode-select"],
body:not(.serenity-mode) .setting-item[data-id*="serenity-mode-font-size"],
body:not(.serenity-mode) .setting-item[data-id*="pure-serenity-light"],
body:not(.serenity-mode) .setting-item[data-id*="pure-serenity-dark"],
body:not(.serenity-mode) .setting-item[data-id*="pure-serenity-invert-light"],
body:not(.serenity-mode) .setting-item[data-id*="pure-serenity-invert-dark"] {
  display: none;
}
