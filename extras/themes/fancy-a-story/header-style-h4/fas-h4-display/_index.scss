.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4) {
  --h4-line-height: 1.2em;
  --h4-size: 2.4em;
  --h4-font: var(--font-typewriter), var(--font-text);
  --h4-color: var(--workleaves-background);
  --h4-background: var(--color-base-100);
  background-color: var(--h4-background);
  text-align: center;
  position: relative;
  padding: var(--cutout-outline-inset);
  clip-path: polygon(
    0 var(--cutout-corner-angle),
    var(--cutout-corner-angle) 0,
    calc(100% - var(--cutout-corner-angle)) 0,
    100% var(--cutout-corner-angle),
    100% calc(100% - var(--cutout-corner-angle)),
    calc(100% - var(--cutout-corner-angle)) 100%,
    var(--cutout-corner-angle) 100%,
    0 calc(100% - var(--cutout-corner-angle))
  );
  overflow: hidden;
  /* Creates a Block Formatting Context (BFC) to avoid going over the float elements */
}

.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4)::before {
  content: '';
  position: absolute;
  background: var(--cutout-border-background);
  inset: var(--cutout-outline-inset);
  clip-path: polygon(
    0 var(--cutout-corner-angle),
    var(--cutout-corner-angle) 0,
    calc(100% - var(--cutout-corner-angle)) 0,
    100% var(--cutout-corner-angle),
    100% calc(100% - var(--cutout-corner-angle)),
    calc(100% - var(--cutout-corner-angle)) 100%,
    var(--cutout-corner-angle) 100%,
    0 calc(100% - var(--cutout-corner-angle)),
    0 var(--cutout-corner-angle),
    var(--cutout-outline-thickness)
      calc(var(--cutout-corner-angle) + var(--cutout-outline-thickness) * 0.5),
    var(--cutout-outline-thickness)
      calc(
        100% - var(--cutout-corner-angle) - var(--cutout-outline-thickness) *
          0.5
      ),
    calc(var(--cutout-corner-angle) + var(--cutout-outline-thickness) * 0.5)
      calc(100% - var(--cutout-outline-thickness)),
    calc(
        100% - var(--cutout-corner-angle) - var(--cutout-outline-thickness) *
          0.5
      )
      calc(100% - var(--cutout-outline-thickness)),
    calc(100% - var(--cutout-outline-thickness))
      calc(
        100% - var(--cutout-corner-angle) - var(--cutout-outline-thickness) *
          0.5
      ),
    calc(100% - var(--cutout-outline-thickness))
      calc(var(--cutout-corner-angle) + var(--cutout-outline-thickness) * 0.5),
    calc(
        100% - var(--cutout-corner-angle) - var(--cutout-outline-thickness) *
          0.5
      )
      var(--cutout-outline-thickness),
    calc(var(--cutout-corner-angle) + var(--cutout-outline-thickness) * 0.5)
      var(--cutout-outline-thickness),
    var(--cutout-outline-thickness)
      calc(var(--cutout-corner-angle) + var(--cutout-outline-thickness) * 0.5)
  );
}

.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4):is(.is-collapsed > h4)::before {
  background: var(--h4-border-color-collapsed);
}

.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4):is(.is-collapsed > h4)::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--h4-border-color-collapsed);
  clip-path: polygon(
    0 0,
    100% 0,
    100% 100%,
    0 100%,
    0 0,
    var(--cutout-outline-inset)
      calc(var(--cutout-corner-angle) + 0.5 * var(--cutout-outline-inset) + 2px),
    var(--cutout-outline-inset)
      calc(
        100% - var(--cutout-corner-angle) - 0.5 * var(--cutout-outline-inset) -
          2px
      ),
    calc(var(--cutout-corner-angle) + 0.5 * var(--cutout-outline-inset) + 2px)
      calc(100% - var(--cutout-outline-inset)),
    calc(
        100% - var(--cutout-corner-angle) - 0.5 * var(--cutout-outline-inset) -
          2px
      )
      calc(100% - var(--cutout-outline-inset)),
    calc(100% - var(--cutout-outline-inset))
      calc(
        100% - var(--cutout-corner-angle) - 0.5 * var(--cutout-outline-inset) -
          2px
      ),
    calc(100% - var(--cutout-outline-inset))
      calc(var(--cutout-corner-angle) + 0.5 * var(--cutout-outline-inset) + 2px),
    calc(
        100% - var(--cutout-corner-angle) - 0.5 * var(--cutout-outline-inset) -
          2px
      )
      var(--cutout-outline-inset),
    calc(var(--cutout-corner-angle) + 0.5 * var(--cutout-outline-inset) + 2px)
      var(--cutout-outline-inset),
    var(--cutout-outline-inset)
      calc(var(--cutout-corner-angle) + 0.5 * var(--cutout-outline-inset) + 2px)
  );
}

.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4)
  .heading-collapse-indicator {
  margin-inline-start: 0;
}

.fas-skin-sci-fi.fas-h4-display
  .markdown-preview-view
  h4:not(.callout h4, ul h4, ol h4),
.fas-h4-display
  .sci-fi.markdown-preview-view
  h4:not(.callout h4, ul h4, ol h4) {
  --h4-color: inherit;
  --h4-background: transparent;
  --h4-font: 'Orbitron', Arial, serif;
  padding: unset;
  clip-path: unset;
  text-align: left;
}

.fas-skin-sci-fi.fas-h4-display
  .markdown-preview-view
  h4:not(.callout h4, ul h4, ol h4)::before,
.fas-h4-display
  .sci-fi.markdown-preview-view
  h4:not(.callout h4, ul h4, ol h4)::before {
  position: unset;
  background-image: unset;
  inset: unset;
  clip-path: unset;
  display: inline-block;
  height: 1em;
  width: 6em;
  transform: translateY(-15%);
  background-color: rgba(var(--color-cyan-rgb), 1);
  -webkit-mask-image: var(--sci-fi-h-display);
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: left center;
  mask-mode: luminance;
  vertical-align: middle;
  margin-right: 0.2em;
}

.fas-skin-art-deco.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4) {
  --h4-line-height: 1.2em;
  --h4-size: 3em;
  --h4-font: 'ParkLaneNF', 'Limelight', 'Impact', 'Inter';
  --h4-color: var(--art-deco-color);
  --h4-weight: 500;
  --h4-background: var(--color-base-100);
  background-color: transparent;
  text-align: center;
  position: relative;
  padding-inline: var(--cutout-outline-inset);
  padding-block: calc(var(--cutout-outline-inset) + 16px);
  clip-path: none;
}

.fas-skin-art-deco.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4)::before {
  --corner-size: 0.5em;
  content: '';
  position: absolute;
  inset: 0;
  clip-path: unset;
  background-image: var(--art-deco-gradient);
  mask:
    var(--art-deco-h-top-left) left top/var(--corner-size) var(--corner-size)
      no-repeat,
    var(--art-deco-h-top-right) right top/var(--corner-size) var(--corner-size)
      no-repeat,
    var(--art-deco-h-bottom-right) right bottom/var(--corner-size)
      var(--corner-size) no-repeat,
    var(--art-deco-h-bottom-left) left bottom/var(--corner-size)
      var(--corner-size) no-repeat,
    var(--art-deco-h-hline) var(--corner-size)
      top/calc(100% - 2 * var(--corner-size))
      calc(0.2514469152 * var(--corner-size)) no-repeat,
    var(--art-deco-h-hline) var(--corner-size)
      bottom/calc(100% - 2 * var(--corner-size))
      calc(0.2514469152 * var(--corner-size)) no-repeat,
    var(--art-deco-h-vline) left var(--corner-size) /
      calc(0.2507139294 * var(--corner-size))
      calc(100% - 2 * var(--corner-size)) no-repeat,
    var(--art-deco-h-vline) right var(--corner-size) /
      calc(0.2514469152 * var(--corner-size) - 0.5px)
      calc(100% - 2 * var(--corner-size)) no-repeat;
}

.fas-skin-art-deco.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4):is(.is-collapsed > h4)::after {
  content: none;
}

.fas-skin-art-deco.fas-h4-display
  .markdown-preview-view:not(
    :is(.newspaper, .movie-script, .minimalist, .h4-stroke, .h4-normal, .sci-fi)
  )
  h4:not(.callout h4, ul h4, ol h4)
  .heading-collapse-indicator {
  margin-inline-start: 0;
}
