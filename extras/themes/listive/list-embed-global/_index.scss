.list-embed-global
  :is(.HyperMD-list-line, li)
  .internal-embed.is-loaded.markdown-embed:not([alt*=".excalidraw"]):has(
    .markdown-preview-section > div > ul
  ) {
  margin: 0 0 0 calc(var(--list-embed-margin) + var(--list-embed-adj));
  padding: 0;
  border: none;
  top: 0;
}

.list-embed-global
  :is(.HyperMD-list-line, li)
  .internal-embed.is-loaded.markdown-embed
  ul:first-of-type {
  margin-block: 0;
}

.list-embed-global
  :is(.HyperMD-list-line, li)
  .internal-embed.is-loaded.markdown-embed
  .markdown-embed-title {
  display: none;
}

.list-embed-global
  :is(.HyperMD-list-line, li)
  .internal-embed.is-loaded.markdown-embed:not([alt*=".excalidraw"]) {
  width: calc(100% - 1px);
}

.list-embed-global .HyperMD-list-line .markdown-embed .markdown-preview-view {
  padding-bottom: 0;
}

:is(.list-embed-global, [alt*="list-embed"], [alt*="inline-embed"])
  :is(.file-embed-link svg, .markdown-embed-link)
  svg {
  opacity: 0.2;
}

:is(.list-embed-global, [alt*="list-embed"], [alt*="inline-embed"])
  :is(.markdown-embed:hover .file-embed-link svg, .markdown-embed:hover .markdown-embed-link)
  svg {
  opacity: 1;
}

:is(.list-embed-global :not(.popover), [alt*="list-embed"].internal-embed)
  :is(.markdown-embed, .file-embed) {
  background-color: var(--background-primary);
}

:is(.list-embed-global :not(.popover)) :is(.markdown-embed:hover, .file-embed:hover) {
  background-color: var(--background-secondary);
}

.list-embed-global
  :is(.HyperMD-list-line, li):has(.snw-reference)
  .internal-embed.is-loaded.markdown-embed:not([alt*=".excalidraw"]):not(
    :has(.markdown-preview-section > div > ul)
  ) {
  width: calc(100% - 25px);
}

.list-embed-global
  :is(.HyperMD-list-line, ul)
  .internal-embed.is-loaded
  .markdown-preview-section
  > div
  > ul
  > li
  > .snw-reference.snw-block-preview {
  display: none;
}
