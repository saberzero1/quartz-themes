body:not(.line-hover-indicator)
  .setting-item:is(
    [data-id="hover-indicator-color"],
    [data-id="focus-indicator-list-level"],
    [data-id="focus-indicator-codeblock-line-number"]
  ) {
  display: none;
}

.line-hover-indicator
  .workspace-leaf-content:is([data-type="markdown"], [data-type="webviewer"]):not(
    :has(.document-search-container)
  )
  .markdown-preview-sizer
  > div:not(:has(.collapse-indicator, .mk-header)) {
  position: relative;
}

.line-hover-indicator
  .workspace-leaf-content[data-type="markdown"]
  .markdown-source-view
  .cm-content
  > div:not(:has(.mk-note-footer)):has(.cm-hmd-list-indent)::after,
.line-hover-indicator
  .workspace-leaf-content[data-type="markdown"]
  .markdown-source-view
  .cm-content
  > div:not(
    .image-embed,
    .mk-header,
    .HyperMD-header,
    :has(.mk-note-footer, .collapse-indicator)
  )::after,
.line-hover-indicator
  .workspace-leaf-content:is([data-type="markdown"], [data-type="webviewer"]):not(
    :has(.document-search-container)
  )
  .markdown-preview-sizer
  > div:is(.el-ul, .el-ol)::after,
.line-hover-indicator
  .workspace-leaf-content:is([data-type="markdown"], [data-type="webviewer"]):not(
    :has(.document-search-container)
  )
  .markdown-preview-sizer
  > div:not(:has(.collapse-indicator, .mk-header))::after {
  content: "";
  position: absolute;
  left: -12px;
  top: 3px;
  width: 3px;
  height: 0;
  border-radius: 10px;
  background: var(--hover-indicator-color);
  --hover-indicator-color: var(--text-faint);
  opacity: 1;
}

.line-hover-indicator
  .workspace-leaf-content[data-type="markdown"]
  .markdown-source-view
  .cm-content
  > div:not(:has(.mk-note-footer)):has(.cm-hmd-list-indent):hover::after,
.line-hover-indicator
  .workspace-leaf-content[data-type="markdown"]
  .markdown-source-view
  .cm-content
  > div:not(
    .image-embed,
    .mk-header,
    .HyperMD-header,
    :has(.mk-note-footer, .collapse-indicator)
  ):hover::after,
.line-hover-indicator
  .workspace-leaf-content:is([data-type="markdown"], [data-type="webviewer"]):not(
    :has(.document-search-container)
  )
  .markdown-preview-sizer
  > div:is(.el-ul, .el-ol):hover::after,
.line-hover-indicator
  .workspace-leaf-content:is([data-type="markdown"], [data-type="webviewer"]):not(
    :has(.document-search-container)
  )
  .markdown-preview-sizer
  > div:not(:has(.collapse-indicator, .mk-header)):hover::after {
  height: calc(100% - 6px);
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line:not(.HyperMD-list-line-1):after,
.focus-indicator-codeblock-line-number
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-codeblock:not(.HyperMD-codeblock-begin):not(.HyperMD-codeblock-end)::after {
  background: unset !important;
  opacity: 0 !important;
  position: absolute !important;
  left: -12px !important;
  top: 0px !important;
  height: 100% !important;
  width: 3px !important;
  display: flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  color: var(--hover-indicator-color);
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line:not(.HyperMD-list-line-1):hover::after,
.focus-indicator-codeblock-line-number
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-codeblock:not(.HyperMD-codeblock-begin):not(.HyperMD-codeblock-end):hover:after {
  opacity: 1 !important;
  --hover-indicator-color: var(--text-faint);
}

.focus-indicator-codeblock-line-number
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer,
.focus-indicator-codeblock-line-number
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-codeblock-end {
  counter-reset: code-line;
}

.focus-indicator-codeblock-line-number
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-codeblock:not(.HyperMD-codeblock-begin):not(.HyperMD-codeblock-end)::after {
  counter-increment: code-line;
  content: counter(code-line) !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line:not(.HyperMD-list-line-1):after {
  content: "";
  text-indent: 0px !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-2::after {
  content: "2" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-3::after {
  content: "3" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-4::after {
  content: "4" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-5::after {
  content: "5" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-6::after {
  content: "6" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-7::after {
  content: "7" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-8::after {
  content: "8" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-9::after {
  content: "9" !important;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-line.HyperMD-list-line.HyperMD-list-line-10::after {
  content: "10" !important;
}

.line-hover-indicator
  .workspace-leaf-content[data-type="markdown"]
  .markdown-source-view
  .cm-content
  > .cm-active:not(:has(.mk-note-footer)):has(.cm-hmd-list-indent)::after,
.line-hover-indicator
  .workspace-leaf-content[data-type="markdown"]
  .markdown-source-view
  .cm-content
  > .cm-active:not(
    .image-embed,
    .mk-header,
    .HyperMD-header,
    :has(.mk-note-footer, .collapse-indicator)
  )::after {
  content: "";
  position: absolute;
  left: -12px;
  top: 3px;
  width: 3px;
  height: calc(100% - 6px);
  border-radius: 10px;
  background: var(--hover-indicator-color);
  --hover-indicator-color: var(--color-accent) !important;
  opacity: 1;
}

.focus-indicator-list-level
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-active.HyperMD-list-line:not(.HyperMD-list-line-1)::after,
.focus-indicator-codeblock-line-number
  .workspace-leaf-content[data-type="markdown"]
  .cm-contentContainer
  .cm-active.HyperMD-codeblock:not(.HyperMD-codeblock-begin):not(.HyperMD-codeblock-end):after {
  opacity: 1 !important;
  --hover-indicator-color: var(--color-accent) !important;
}
