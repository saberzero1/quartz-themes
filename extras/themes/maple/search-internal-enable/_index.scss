body:not(.search-internal-enable)
  .setting-item:is(
    [data-id="search-internal-expand-on-focus"],
    [data-id="search-internal-disable-select-all"]
  ) {
  display: none;
}

body:not(.search-internal-enable)
  .setting-item:is(
    [data-id="search-internal-expand-on-focus"],
    [data-id="search-internal-disable-select-all"]
  )
  + .style-settings-container {
  display: none;
}

body.search-internal-enable .kanban-plugin__search-wrapper {
  width: fit-content;
  padding: var(--size-2-3) var(--size-2-3);
  position: absolute;
  background-color: var(--kanban-board-bg);
  border: 1px solid var(--background-modifier-border-hover);
  border-radius: var(--radius-m);
  left: unset;
  top: var(--size-2-3);
  right: var(--size-2-3);
}

body.search-internal-enable .kanban-plugin__search-wrapper a[aria-label="Cancel"] {
  padding: var(--size-4-1);
  margin-left: var(--size-2-2);
}

body.search-internal-enable
  :is(
    .cMenuToolbarpopover + .document-search-container.top,
    .document-search-container:has(+ #cMenuToolbarModalBar.top)
  ) {
  top: var(--size-4-12);
  right: var(--size-2-2);
}

body.search-internal-enable .document-search-container {
  background-color: hsl(var(--background-secondary-hsl)) !important;
  position: absolute;
  top: var(--size-4-2);
  right: var(--size-4-4);
  border-radius: var(--radius-m);
  height: fit-content;
  border: var(--size-2-1) solid var(--frame-outline-color);
  box-shadow: var(--shadow-s);
  margin: 0;
}

body.search-internal-enable
  .document-search-container
  .document-search-buttons
  .document-search-button {
  font-size: 0;
  background-color: transparent !important;
  color: var(--text-muted);
  cursor: var(--cursor);
  height: var(--input-height);
  width: var(--input-height);
  padding: var(--size-4-1);
  box-shadow: unset !important;
}

body.search-internal-enable
  .document-search-container
  .document-search-buttons
  .document-search-button:hover {
  background-color: var(--background-modifier-hover) !important;
  color: var(--text-normal);
}

body.search-internal-enable .document-search-container {
  width: calc(100% - 2 * var(--size-4-3));
}

body.search-internal-enable
  .document-search-container
  :is(.document-search-input, .document-replace-input) {
  min-width: 0;
}

body.search-internal-enable
  .document-search-container
  :is(
    .document-search-buttons [aria-label="Shift + F3"],
    .document-replace-buttons [aria-label="Ctrl + Alt + Enter"]
  ) {
  display: none;
}
