.writing {
  --file-line-width: 600px;
  --link-color: var(--text);
  --link-color-hover: var(--soft-text);
  --link-background-hover: var(--highlight);
  --link-external-color: var(--text);
  --link-external-color-hover: var(--soft-text);
  --highlight: var(--td) !important;
  --text-highlight-bg: var(--highlight);
  --hr-icon-symbol: "" !important;
  --header-text-align: center;
  --h1-text-align: var(--header-text-align);
  --h2-text-align: var(--header-text-align);
  --h3-text-align: var(--header-text-align);
  --h4-text-align: var(--header-text-align);
  --h5-text-align: var(--header-text-align);
  --h6-text-align: var(--header-text-align);
  --blockquote-background-color: transparent;
  --blockquote-border-thickness: 3px;
  --blockquote-border-color: var(--accent);
  --code-normal: var(--text);
  --code-background: var(--td);
}

.markdown-source-view.mod-cm6 .cm-sizer,
.writing .markdown-source-view.mod-cm6 .cm-scroller .cm-sizer,
.writing .markdown-preview-sizer {
  max-width: var(--file-line-width);
  margin: auto;
}

.writing .internal-link::after,
.writing .cm-underline::after,
.writing .external-link::after {
  font-family: var(--its);
  font-size: calc(var(--font-text-size) - 2px);
  font-style: normal !important;
  font-weight: 100 !important;
  vertical-align: 2px;
  color: var(--accent);
  opacity: unset;
  margin-right: -8px;
}

.writing .internal-link::after,
.writing span:not(.cm-link) .cm-underline::after {
  content: "\e819";
}

.writing .external-link::after {
  content: "\e818";
}

.writing,
.hcl,
.writing .hcl {
  --header-border-line-height: 0;
  --h1-border-line-height: var(--header-border-line-height);
  --h2-border-line-height: var(--header-border-line-height);
  --h3-border-line-height: var(--header-border-line-height);
  --h4-border-line-height: var(--header-border-line-height);
  --h5-border-line-height: var(--header-border-line-height);
  --h6-border-line-height: var(--header-border-line-height);
}

.writing .markdown-preview-section,
.writing .cm-s-obsidian,
.markdown-preview-view,
.cm-s-obsidian {
  text-align: justify;
}

.writing .markdown-preview-view pre,
.markdown-preview-view pre,
.writing .HyperMD-codeblock:not(.cm-formatting-code-block) {
  border-left: 5px solid var(--code-bg);
  border-right: 5px solid var(--code-text);
  filter: saturate(70%);
}

.writing .footnote-link,
.writing .cm-inline-footnote,
.writing .cm-inline-footnote-end,
.writing .cm-inline-footnote-end + .cm-link {
  color: var(--inactive);
}

.writing .footnote-link:hover,
.writing .cm-inline-footnote:hover,
.writing .cm-inline-footnote-end:hover,
.writing .cm-inline-footnote-end + .cm-link:hover {
  background-color: var(--link-background-hover);
}

.writing-document:not(.is-mobile),
.writing-document.is-tablet.is-tablet {
  /* Fix embeds */
  /* Embed */
  /* .markdown-preview-section { min-height: 100% !important; } */
}

.writing-document:not(.is-mobile) .markdown-source-view.mod-cm6 .cm-scroller,
.writing-document.is-tablet.is-tablet
  .markdown-source-view.mod-cm6
  .cm-scroller {
  padding: 0;
}

.writing-document:not(.is-mobile) .is-live-preview .HyperMD-header::before,
.writing-document.is-tablet.is-tablet .is-live-preview .HyperMD-header::before {
  margin-left: -10px;
  margin-right: 15px;
}

.writing-document:not(.is-mobile)
  div:not(.workspace-tabs):not(.markdown-embed-content)
  > :is(.markdown-preview-view, .cm-editor):not(
    .kanban-plugin__markdown-preview-view
  ):not(.BC-Matrix):not(.community-plugin-readme),
.writing-document.is-tablet.is-tablet
  div:not(.workspace-tabs):not(.markdown-embed-content)
  > :is(.markdown-preview-view, .cm-editor):not(
    .kanban-plugin__markdown-preview-view
  ):not(.BC-Matrix):not(.community-plugin-readme) {
  background: var(--td);
  padding: 0;
}

.writing-document:not(.is-mobile)
  :not(.markdown-embed-content)
  .markdown-preview-section:not(.kanban-plugin__markdown-preview-view),
.writing-document:not(.is-mobile)
  .view-content
  .cm-s-obsidian
  > .cm-editor
  .cm-contentContainer,
.writing-document.is-tablet.is-tablet
  :not(.markdown-embed-content)
  .markdown-preview-section:not(.kanban-plugin__markdown-preview-view),
.writing-document.is-tablet.is-tablet
  .view-content
  .cm-s-obsidian
  > .cm-editor
  .cm-contentContainer {
  --padding: 10px;
  background: var(--note, var(--background-primary));
  box-shadow: 0 0 20px var(--outline, var(--background-box-shadow));
  max-width: calc(var(--file-line-width) + var(--padding));
  height: auto;
  padding: 0 var(--padding);
  border-radius: var(--radius-l);
}

.writing-document:not(.is-mobile)
  .markdown-embed.markdown-embed.markdown-embed
  .markdown-preview-section,
.writing-document.is-tablet.is-tablet
  .markdown-embed.markdown-embed.markdown-embed
  .markdown-preview-section {
  padding: unset;
  box-shadow: unset;
}
