.file-explorer-flat {
  --explorer-root-folder-margin: 0 0 7px 0;
  --explorer-root-folder-padding: 0;
  --explorer-root-folder-indentation-width: 0;
  --explorer-root-folder-background: var(--folder);
  --explorer-root-background: hsla(var(--color-accent-hsl), 0.3);
  --explorer-root-folder-color: var(--text, var(--nav-item-color));
  --explorer-root-folder-open-background: var(--folder);
  --explorer-root-folder-open-color: var(--text-on-accent);
  --explorer-folder-open-background: var(
    --td,
    var(--background-modifier-cover)
  );
  --explorer-folder-icon-color: var(--explorer-root-folder-background);
  --explorer-root-collapsed-background: transparent;
  --explorer-root-folder-indentation-color: var(
    --explorer-root-folder-background
  );
}

.file-explorer-flat
  .nav-folder.mod-root
  > .nav-folder-children
  > .nav-folder
  > .nav-folder-children,
.file-explorer-flat
  .nav-files-container
  > div
  > .nav-folder
  > .nav-folder-children {
  margin: var(--explorer-root-folder-margin);
  padding-left: var(--explorer-root-folder-padding);
  border-width: var(--explorer-root-folder-indentation-width);
  border-color: var(--explorer-root-folder-indentation-color);
  border-bottom: 2px solid var(--explorer-root-folder-background);
  background-color: var(--explorer-root-background);
  --nav-indentation-guide-color: var(--explorer-root-folder-indentation-color);
}

.file-explorer-flat
  .nav-folder.mod-root
  > .nav-folder-children
  > .nav-folder.is-collapsed
  > .nav-folder-title:not(:hover),
.file-explorer-flat
  .nav-files-container
  > div
  > .nav-folder.is-collapsed
  > .nav-folder-title:not(:hover) {
  background-color: var(--explorer-root-collapsed-background);
  color: var(--explorer-root-folder-color);
}

.file-explorer-flat
  .nav-folder.mod-root
  > .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover),
.file-explorer-flat
  .nav-files-container
  > div
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover) {
  background-color: var(--explorer-root-folder-open-background);
  border-bottom-color: var(--explorer-root-folder-background);
  color: var(--explorer-root-folder-open-color);
  --folder-icon-open-color: var(--explorer-root-folder-open-color);
}

.file-explorer-flat
  .nav-folder.mod-root
  > .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover)
  .collapse-icon,
.file-explorer-flat
  .nav-files-container
  > div
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover)
  .collapse-icon {
  --nav-collapse-icon-color: var(--explorer-root-folder-open-color);
}

.file-explorer-flat
  .nav-folder.mod-root
  > .nav-folder-children
  > .nav-folder
  .nav-folder-title,
.file-explorer-flat .nav-files-container > div > .nav-folder .nav-folder-title {
  align-items: center;
}

.file-explorer-flat
  .nav-folder.mod-root
  > .nav-folder-children
  > .nav-folder
  .nav-folder-collapse-indicator,
.file-explorer-flat
  .nav-files-container
  > div
  > .nav-folder
  .nav-folder-collapse-indicator {
  --nav-collapse-icon-color: var(--nav-item-color);
}

.file-explorer-flat
  .mod-root
  .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title
  > .nav-folder-title-content,
.file-explorer-flat
  .nav-folder:not(.is-collapsed)
  > .nav-folder-title
  > .nav-folder-title-content {
  text-align: center;
  transition: cubic-bezier(1, 0, 0, 1);
  text-transform: uppercase;
  letter-spacing: 0.25em;
  padding: 3px 0;
  width: 100%;
}

.file-explorer-flat
  .mod-root
  .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title
  > .nav-folder-title-content::before,
.file-explorer-flat
  .nav-folder:not(.is-collapsed)
  > .nav-folder-title
  > .nav-folder-title-content::before {
  float: left;
}

.file-explorer-flat
  .mod-root
  .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover),
.file-explorer-flat
  .nav-folder
  .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover) {
  background-color: var(--explorer-folder-open-background);
  border-bottom-color: var(--explorer-root-folder-background);
}

.file-explorer-flat
  .mod-root
  .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-children
  > .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover)
  > .nav-folder-title-content::before,
.file-explorer-flat
  .nav-folder
  .nav-folder:not(.is-collapsed)
  > .nav-folder-title:not(:hover)
  > .nav-folder-title-content::before {
  color: var(--folder-open-text-color);
}
